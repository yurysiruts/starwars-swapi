<div class="game">
  <h1>Star Wars Battle: People vs Starships</h1>

  <div class="cards">
    <mat-card class="card" appearance="outlined">
      <mat-card-header class="card-header">
        <mat-card-title>Player 1</mat-card-title>
        <mat-card-subtitle>Score: {{ player1Score }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div *ngIf="!isLoading && person">
          <h2>Person: {{ person.name }}</h2>
          <p>Mass: {{ person.mass }} kg</p>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="card" appearance="raised">
      <mat-card-header class="card-header">
        <mat-card-title>Player 2</mat-card-title>
        <mat-card-subtitle>Score: {{ player2Score }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div *ngIf="!isLoading && starship">
          <h2>Starship: {{ starship.name }}</h2>
          <p>Crew: {{ starship.crew }}</p>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="spinner-container" *ngIf="isLoading">
    <mat-spinner></mat-spinner>
  </div>
  
  <h3 *ngIf="!isLoading && !errorMessage" data-test="winner">{{ winner }}</h3>
  <h3 *ngIf="!isLoading" class="error" data-test="error-msg">{{ errorMessage }}</h3>

  <button mat-flat-button color="primary" (click)="playGame()">Play Again</button>
</div>